{"ast":null,"code":"var _jsxFileName = \"/Users/junwookim/Desktop/StudyBot_discord/discord_study_bot/frontend/src/components/TodayUsageChart.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ReferenceLine } from \"recharts\";\nimport styled from \"styled-components\";\nconst ChartContainer = styled.div`\n  background: white;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n`;\nfunction TodayUsageChart() {\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/v1/today-usage\", {\n      mode: 'cors'\n    }).then(res => res.json()).then(json => {\n      setData(json);\n    }).catch(err => console.error(err));\n  }, []);\n\n  // 平均値ラインを引く場合\n  const average = data.length > 0 ? data.reduce((acc, cur) => acc + cur.duration_hour, 0) / data.length : 0;\n  return /*#__PURE__*/React.createElement(ChartContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    width: 600,\n    height: 300,\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"channel_id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ReferenceLine, {\n    y: average,\n    stroke: \"red\",\n    label: `平均 ${average.toFixed(2)}h`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"duration_hour\",\n    fill: \"#8884d8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  })));\n}\nexport default TodayUsageChart;","map":{"version":3,"names":["React","useEffect","useState","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ReferenceLine","styled","ChartContainer","div","TodayUsageChart","data","setData","fetch","mode","then","res","json","catch","err","console","error","average","length","reduce","acc","cur","duration_hour","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","width","height","strokeDasharray","dataKey","y","stroke","label","toFixed","fill"],"sources":["/Users/junwookim/Desktop/StudyBot_discord/discord_study_bot/frontend/src/components/TodayUsageChart.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ReferenceLine } from \"recharts\";\nimport styled from \"styled-components\";\n\nconst ChartContainer = styled.div`\n  background: white;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n`;\n\nfunction TodayUsageChart() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/v1/today-usage\", { mode: 'cors' })\n      .then((res) => res.json())\n      .then((json) => {\n        setData(json);\n      })\n      .catch((err) => console.error(err));\n  }, []);\n\n  // 平均値ラインを引く場合\n  const average = data.length > 0\n    ? data.reduce((acc, cur) => acc + cur.duration_hour, 0) / data.length\n    : 0;\n\n  return (\n    <ChartContainer>\n      <BarChart width={600} height={300} data={data}>\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"channel_id\" />\n        <YAxis />\n        <Tooltip />\n        {/* 参考線: 平均 */}\n        <ReferenceLine y={average} stroke=\"red\" label={`平均 ${average.toFixed(2)}h`} />\n        <Bar dataKey=\"duration_hour\" fill=\"#8884d8\" />\n      </BarChart>\n    </ChartContainer>\n  );\n}\n\nexport default TodayUsageChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}