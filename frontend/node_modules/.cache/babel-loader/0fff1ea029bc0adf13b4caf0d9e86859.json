{"ast":null,"code":"var _jsxFileName = \"/Users/junwookim/Desktop/StudyBot_discord/discord_study_bot/frontend/src/components/TodayUsageChart.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ReferenceLine } from \"recharts\";\nfunction TodayUsageChart() {\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/v1/today-usage\", {\n      mode: 'cors'\n    }).then(res => res.json()).then(json => {\n      setData(json);\n    }).catch(err => console.error(err));\n  }, []);\n\n  // 平均値ラインを引く場合\n  const average = data.length > 0 ? data.reduce((acc, cur) => acc + cur.duration_hour, 0) / data.length : 0;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    width: 600,\n    height: 300,\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"channel_id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ReferenceLine, {\n    y: average,\n    stroke: \"red\",\n    label: `平均 ${average.toFixed(2)}h`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"duration_hour\",\n    fill: \"#8884d8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  })));\n}\nexport default TodayUsageChart;","map":{"version":3,"names":["React","useEffect","useState","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ReferenceLine","TodayUsageChart","data","setData","fetch","mode","then","res","json","catch","err","console","error","average","length","reduce","acc","cur","duration_hour","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","width","height","strokeDasharray","dataKey","y","stroke","label","toFixed","fill"],"sources":["/Users/junwookim/Desktop/StudyBot_discord/discord_study_bot/frontend/src/components/TodayUsageChart.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ReferenceLine } from \"recharts\";\n\nfunction TodayUsageChart() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/v1/today-usage\",{mode: 'cors'})\n      .then((res) => res.json())\n      .then((json) => {\n        setData(json);\n      })\n      .catch((err) => console.error(err));\n  }, []);\n\n  // 平均値ラインを引く場合\n  const average = data.length > 0\n    ? data.reduce((acc, cur) => acc + cur.duration_hour, 0) / data.length\n    : 0;\n\n  return (\n    <div>\n      <BarChart width={600} height={300} data={data}>\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"channel_id\" />\n        <YAxis />\n        <Tooltip />\n        {/* 参考線: 平均 */}\n        <ReferenceLine y={average} stroke=\"red\" label={`平均 ${average.toFixed(2)}h`} />\n        <Bar dataKey=\"duration_hour\" fill=\"#8884d8\" />\n      </BarChart>\n    </div>\n  );\n}\n\nexport default TodayUsageChart;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,QAAQ,EAAEC,GAAG,EAAEC,KAAK,EAAEC,KAAK,EAAEC,aAAa,EAAEC,OAAO,EAAEC,aAAa,QAAQ,UAAU;AAE7F,SAASC,eAAeA,CAAA,EAAG;EACzB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACdY,KAAK,CAAC,0CAA0C,EAAC;MAACC,IAAI,EAAE;IAAM,CAAC,CAAC,CAC7DC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEE,IAAI,IAAK;MACdL,OAAO,CAACK,IAAI,CAAC;IACf,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;EACvC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMG,OAAO,GAAGX,IAAI,CAACY,MAAM,GAAG,CAAC,GAC3BZ,IAAI,CAACa,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,CAACC,aAAa,EAAE,CAAC,CAAC,GAAGhB,IAAI,CAACY,MAAM,GACnE,CAAC;EAEL,oBACEvB,KAAA,CAAA4B,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACElC,KAAA,CAAA4B,aAAA,CAACzB,QAAQ;IAACgC,KAAK,EAAE,GAAI;IAACC,MAAM,EAAE,GAAI;IAACzB,IAAI,EAAEA,IAAK;IAAAkB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5ClC,KAAA,CAAA4B,aAAA,CAACrB,aAAa;IAAC8B,eAAe,EAAC,KAAK;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACvClC,KAAA,CAAA4B,aAAA,CAACvB,KAAK;IAACiC,OAAO,EAAC,YAAY;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC9BlC,KAAA,CAAA4B,aAAA,CAACtB,KAAK;IAAAuB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACTlC,KAAA,CAAA4B,aAAA,CAACpB,OAAO;IAAAqB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAEXlC,KAAA,CAAA4B,aAAA,CAACnB,aAAa;IAAC8B,CAAC,EAAEjB,OAAQ;IAACkB,MAAM,EAAC,KAAK;IAACC,KAAK,EAAE,MAAMnB,OAAO,CAACoB,OAAO,CAAC,CAAC,CAAC,GAAI;IAAAb,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC9ElC,KAAA,CAAA4B,aAAA,CAACxB,GAAG;IAACkC,OAAO,EAAC,eAAe;IAACK,IAAI,EAAC,SAAS;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACrC,CACP,CAAC;AAEV;AAEA,eAAexB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}