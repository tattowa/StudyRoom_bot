{"ast":null,"code":"var _jsxFileName = \"/Users/junwookim/Desktop/StudyBot_discord/discord_study_bot/frontend/src/components/TotalUsageChart.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip } from \"recharts\";\nfunction TotalUsageChart() {\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/v1/total-usage\").then(res => res.json()).then(json => setData(json)).catch(err => console.error(err));\n  }, []);\n\n  // デフォルトで降順に返ってくる前提\n  // 上位3つをハイライトにするなどの例（ここでは単に色を変えるだけ）\n  const getBarColor = index => {\n    if (index === 0) return \"gold\";\n    if (index === 1) return \"silver\";\n    if (index === 2) return \"chocolate\"; // bronze\n    return \"#8884d8\";\n  };\n  const chartData = data.map((d, i) => ({\n    channel_id: d.channel_id,\n    duration_hour: d.duration_hour,\n    rank: i + 1\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    width: 600,\n    height: 300,\n    data: chartData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"channel_id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    dataKey: \"duration_hour\",\n    fill: \"#8884d8\",\n    label: {\n      position: 'top'\n    },\n    isAnimationActive: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, chartData.map((entry, index) => /*#__PURE__*/React.createElement(\"cell\", {\n    key: `cell-${index}`,\n    fill: getBarColor(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  })))));\n}\nexport default TotalUsageChart;","map":{"version":3,"names":["React","useEffect","useState","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","TotalUsageChart","data","setData","fetch","then","res","json","catch","err","console","error","getBarColor","index","chartData","map","d","i","channel_id","duration_hour","rank","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","width","height","strokeDasharray","dataKey","fill","label","position","isAnimationActive","entry","key"],"sources":["/Users/junwookim/Desktop/StudyBot_discord/discord_study_bot/frontend/src/components/TotalUsageChart.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip } from \"recharts\";\n\nfunction TotalUsageChart() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/v1/total-usage\")\n      .then((res) => res.json())\n      .then((json) => setData(json))\n      .catch((err) => console.error(err));\n  }, []);\n\n  // デフォルトで降順に返ってくる前提\n  // 上位3つをハイライトにするなどの例（ここでは単に色を変えるだけ）\n  const getBarColor = (index) => {\n    if (index === 0) return \"gold\";\n    if (index === 1) return \"silver\";\n    if (index === 2) return \"chocolate\"; // bronze\n    return \"#8884d8\";\n  };\n\n  const chartData = data.map((d, i) => ({\n    channel_id: d.channel_id,\n    duration_hour: d.duration_hour,\n    rank: i + 1\n  }));\n\n  return (\n    <div>\n      <BarChart width={600} height={300} data={chartData}>\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"channel_id\" />\n        <YAxis />\n        <Tooltip />\n        <Bar\n          dataKey=\"duration_hour\"\n          fill=\"#8884d8\"\n          label={{ position: 'top' }}\n          isAnimationActive={true}\n        >\n          {\n            chartData.map((entry, index) => (\n              <cell key={`cell-${index}`} fill={getBarColor(index)} />\n            ))\n          }\n        </Bar>\n      </BarChart>\n    </div>\n  );\n}\n\nexport default TotalUsageChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}